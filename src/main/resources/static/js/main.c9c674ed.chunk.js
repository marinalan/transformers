(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,r){e.exports=r(179)},113:function(e,t,r){},114:function(e,t,r){},179:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),o=r(18),l=r.n(o),s=r(22),c=r(20),i=r(97),m=(r(112),r(113),r(114),r(194)),u=r(195),p=r(30),d=r(31),f=r(34),E=r(32),g=r(35),h=r(191),b=r(192),T=r(193),v=r(98),S=r.n(v).a.create({baseURL:"/"}),N=function(e){return{type:"FETCH_TRANSFORMERS_FAILED",payload:""+e}},O=function(){return n.a.createElement("div",{className:"col-12"},n.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),n.a.createElement("p",null,"Loading . . ."))},y=r(180),k=r(181),w=r(182),R=r(183),P=r(184),C=r(51),A=r(52),D=function(e){function t(e){var r;return Object(p.a)(this,t),(r=Object(f.a)(this,Object(E.a)(t).call(this,e))).toggle=function(){r.setState({popoverOpen:!r.state.popoverOpen})},r.toggleDelTooltip=function(){r.setState({delTooltipOpen:!r.state.delTooltipOpen})},r.toggleEditTooltip=function(){r.setState({editTooltipOpen:!r.state.editTooltipOpen})},r.toggleViewTooltip=function(){r.setState({viewTooltipOpen:!r.state.viewTooltipOpen})},r.popupClick=function(e){r.setState({popoverOpen:!r.state.popoverOpen}),e.preventDefault()},r.editClick=function(e){r.props.edit(r.props.transformer),e.preventDefault()},r.deleteClick=function(e){r.props.delete(r.props.transformer),e.preventDefault()},r.handleSelChange=function(e){r.setState({isSel:e.target.checked}),r.props.select(r.props.transformer.id,e.target.checked)},r.state={popoverOpen:!1,delTooltipOpen:!1,editTooltipOpen:!1,viewTooltipOpen:!1,isSel:!1},r}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},this.props.transformer.presentation),n.a.createElement("div",{className:"col-2"},n.a.createElement(C.a,{icon:A.a,onClick:function(t){return e.editClick(t)},className:"ml-2 mr-1",id:"btnEdit"+this.props.transformer.id}),n.a.createElement(y.a,{placement:"top",isOpen:this.state.editTooltipOpen,target:"btnEdit"+this.props.transformer.id,toggle:function(){return e.toggleEditTooltip()},style:{backgroundColor:"Yellow",color:"blue"}},"Edit Transformer"),n.a.createElement(C.a,{icon:A.b,onClick:function(t){return e.deleteClick(t)},className:"ml-1 mr-1",id:"btnDelete"+this.props.transformer.id}),n.a.createElement(y.a,{placement:"top",isOpen:this.state.delTooltipOpen,target:"btnDelete"+this.props.transformer.id,toggle:function(){return e.toggleDelTooltip()},style:{backgroundColor:"Yellow",color:"blue"}},"Delete Transformer"),n.a.createElement(C.a,{icon:A.c,onClick:function(t){return e.popupClick(t)},className:"ml-1 mr-1",id:"btnPopover"+this.props.transformer.id}),n.a.createElement(y.a,{placement:"top",isOpen:this.state.viewTooltipOpen,target:"btnPopover"+this.props.transformer.id,toggle:function(){return e.toggleViewTooltip()},style:{backgroundColor:"Yellow",color:"blue"}},"View Transformer"),n.a.createElement(k.a,{placement:"top",isOpen:this.state.popoverOpen,target:"btnPopover"+this.props.transformer.id},n.a.createElement(w.a,{as:"h3"},"Transformer"),n.a.createElement(R.a,null,n.a.createElement("ul",{className:"list-unstyled"},n.a.createElement("li",null,n.a.createElement("strong",null,"Id:"),"  ",this.props.transformer.id," "),n.a.createElement("li",null,n.a.createElement("strong",null,"Type:")," ",this.props.transformer.type),n.a.createElement("li",null,n.a.createElement("strong",null,"Strength:")," ",this.props.transformer.strength),n.a.createElement("li",null,n.a.createElement("strong",null,"Intelligence:")," ",this.props.transformer.intelligence),n.a.createElement("li",null,n.a.createElement("strong",null,"Speed:")," ",this.props.transformer.speed),n.a.createElement("li",null,n.a.createElement("strong",null,"Endurance:")," ",this.props.transformer.endurance),n.a.createElement("li",null,n.a.createElement("strong",null,"Rank:")," ",this.props.transformer.rank),n.a.createElement("li",null,n.a.createElement("strong",null,"Courage:")," ",this.props.transformer.courage),n.a.createElement("li",null,n.a.createElement("strong",null,"Firepower:")," ",this.props.transformer.firepower),n.a.createElement("li",null,n.a.createElement("strong",null,"Skill:")," ",this.props.transformer.skill),n.a.createElement("li",null,n.a.createElement("strong",null,"Overall Rating:")," ",this.props.transformer.overallRating),n.a.createElement("li",null,n.a.createElement("strong",null,"Presentation:")," ",this.props.transformer.presentation))))),n.a.createElement("div",{className:"col-2"},n.a.createElement(P.a,{type:"checkbox",value:this.state.isSel,onChange:function(t){return e.handleSelChange(t)}})," ","For battle"))}}]),t}(a.Component),F=r(196),_=r(185),I=r(186),M=r(187),x=r(188),j=r(189),L=r(190),G=r(9),B=function(e){return""!==e.trim()},U=function(e){return!isNaN(e)&&(1<=(e=+e)&&e<=10)},V=function(e){function t(e){var r;return Object(p.a)(this,t),(r=Object(f.a)(this,Object(E.a)(t).call(this,e))).state={transformer:null},r}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.transformer!==e.transformer&&this.props.transformer!==this.state.transformer&&this.setState({transformer:this.props.transformer})}},{key:"handleSubmit",value:function(e){this.props.close(),this.props.save(e)}},{key:"render",value:function(){var e=this;return n.a.createElement(F.a,{isOpen:null!==this.state.transformer},n.a.createElement(_.a,{toggle:function(){return e.props.close()}},"Transformer Editor"),n.a.createElement(I.a,null,n.a.createElement(G.LocalForm,{onSubmit:function(t){return e.handleSubmit(t)},initialState:this.state.transformer},n.a.createElement(M.a,{className:"form-group"},n.a.createElement(x.a,null,n.a.createElement(j.a,{htmlFor:"type"},"Type"),n.a.createElement(G.Control.select,{model:".type",name:"type",className:"form-control"},n.a.createElement("option",null,"Autobot"),n.a.createElement("option",null,"Decepticon"))),n.a.createElement(x.a,null,n.a.createElement(j.a,{htmlFor:"name"},"Name"),n.a.createElement(G.Control.text,{model:".name",id:"name",name:"name",placeholder:"Name",className:"form-control",validators:{name:B}}),n.a.createElement(G.Errors,{className:"text-danger",model:".name",show:"touched",messages:{name:"Name can't be empty"}}))),n.a.createElement(M.a,{className:"form-group"},n.a.createElement(x.a,null,n.a.createElement(j.a,{htmlFor:"strength"},"Strength"),n.a.createElement(G.Control.text,{model:".strength",id:"strength",name:"strength",placeholder:"Strength",className:"form-control",validators:{range:U}}),n.a.createElement(G.Errors,{className:"text-danger",model:".strength",show:"touched",messages:{range:"Must be greater than 1 <= value <= 10"}})),n.a.createElement(x.a,null,n.a.createElement(j.a,{htmlFor:"intelligence"},"Intelligence"),n.a.createElement(G.Control.text,{model:".intelligence",id:"intelligence",name:"intelligence",placeholder:"Intelligence",className:"form-control",validators:{range:U}}),n.a.createElement(G.Errors,{className:"text-danger",model:".intelligence",show:"touched",messages:{range:"Must be greater than 1 <= value <= 10"}}))),n.a.createElement(M.a,{className:"form-group"},n.a.createElement(x.a,null,n.a.createElement(j.a,{htmlFor:"speed"},"Speed"),n.a.createElement(G.Control.text,{model:".speed",id:"speed",name:"speed",placeholder:"Speed",className:"form-control",validators:{range:U}}),n.a.createElement(G.Errors,{className:"text-danger",model:".speed",show:"touched",messages:{range:"Must be greater than 1 <= value <= 10"}})),n.a.createElement(x.a,null,n.a.createElement(j.a,{htmlFor:"endurance"},"Endurance"),n.a.createElement(G.Control.text,{model:".endurance",id:"endurance",name:"endurance",placeholder:"Endurance",className:"form-control",validators:{range:U}}),n.a.createElement(G.Errors,{className:"text-danger",model:".endurance",show:"touched",messages:{range:"Must be greater than 1 <= value <= 10"}}))),n.a.createElement(M.a,{className:"form-group"},n.a.createElement(x.a,null,n.a.createElement(j.a,{htmlFor:"rank"},"Rank"),n.a.createElement(G.Control.text,{model:".rank",id:"rank",name:"rank",placeholder:"Rank",className:"form-control",validators:{range:U}}),n.a.createElement(G.Errors,{className:"text-danger",model:".rank",show:"touched",messages:{range:"Must be greater than 1 <= value <= 10"}})),n.a.createElement(x.a,null,n.a.createElement(j.a,{htmlFor:"courage"},"Courage"),n.a.createElement(G.Control.text,{model:".courage",id:"courage",name:"courage",placeholder:"Courage",className:"form-control",validators:{range:U}}),n.a.createElement(G.Errors,{className:"text-danger",model:".courage",show:"touched",messages:{range:"Must be greater than 1 <= value <= 10"}}))),n.a.createElement(M.a,{className:"form-group"},n.a.createElement(x.a,null,n.a.createElement(j.a,{htmlFor:"firepower"},"Firepower"),n.a.createElement(G.Control.text,{model:".firepower",id:"firepower",name:"firepower",placeholder:"Firepower",className:"form-control",validators:{range:U}}),n.a.createElement(G.Errors,{className:"text-danger",model:".firepower",show:"touched",messages:{range:"Must be greater than 1 <= value <= 10"}})),n.a.createElement(x.a,null,n.a.createElement(j.a,{htmlFor:"skill"},"Skill"),n.a.createElement(G.Control.text,{model:".skill",id:"skill",name:"skill",placeholder:"Skill",className:"form-control",validators:{range:U}}),n.a.createElement(G.Errors,{className:"text-danger",model:".skill",show:"touched",messages:{range:"Must be greater than 1 <= value <= 10"}}))),n.a.createElement(M.a,{className:"form-group"},n.a.createElement(x.a,null,n.a.createElement(L.a,{type:"submit",color:"primary"},"Submit"))))))}}]),t}(a.Component),W=function(e){function t(e){var r;return Object(p.a)(this,t),(r=Object(f.a)(this,Object(E.a)(t).call(this,e))).editTransformer=function(e){r.setState({edTransformer:e})},r.saveTransformer=function(e){e.id>=0?r.props.saveTransformer(e):r.props.saveNewTransformer(e)},r.closeEditor=function(){r.setState({edTransformer:null})},r.deleteTransformer=function(e){r.props.deleteTransformer(e)},r.newClick=function(e){r.setState({edTransformer:{id:-1,name:"",type:"Autobot",strength:"",intelligence:"",speed:"",endurance:"",rank:"",courage:"",firepower:"",skill:""}})},r.selItem=function(e,t){var a=r.state.selected;a=t?a.concat([e]):a.filter(function(t){return t!==e}),r.setState({selected:a})},r.battleClick=function(e){r.props.battle(r.state.selected)},r.state={isEditorOpen:!1,edTransformer:null,selected:[]},r}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.loadTransformers()}},{key:"render",value:function(){var e=this,t=""===this.props.error?null:n.a.createElement("h3",null,""+this.props.error.toString()),r=this.props.loading?n.a.createElement(O,null):null,a=null===this.props.transformers?null:this.props.transformers.map(function(t){return n.a.createElement(D,{key:t.id,transformer:t,edit:function(t){return e.editTransformer(t)},delete:function(t){return e.deleteTransformer(t)},select:function(t,r){return e.selItem(t,r)}})});return n.a.createElement(n.a.Fragment,null,n.a.createElement(V,{transformer:this.state.edTransformer,close:function(){return e.closeEditor()},save:function(t){return e.saveTransformer(t)}}),n.a.createElement("div",{className:"container"},n.a.createElement(h.a,null,n.a.createElement(b.a,null,n.a.createElement("button",{type:"button",className:"btn btn-success mr-1",onClick:function(t){return e.newClick(t)}},"New Transformer"),n.a.createElement("button",{type:"button",className:"btn btn-success ml-1",onClick:function(t){return e.battleClick(t)}},"Battle"),n.a.createElement(T.a,null,n.a.createElement("pre",null,this.props.battleResult)))),t,r,a))}}]),t}(a.Component),Y=Object(s.connect)(function(e){return{transformers:e.transformers.transformers,loading:e.transformers.loading,error:e.transformers.error,battleResult:e.transformers.battleResult}},function(e){return{loadTransformers:function(){return e(function(e){e({type:"TRANSFORMERS_LOADING"}),S.get("bots/").then(function(t){e({type:"SET_TRANSFORMERS",payload:t.data})}).catch(function(t){e(N(t.message))})})},saveTransformer:function(t){return e(function(e){return function(t){t({type:"DATA_PROCESSING"}),S.put("bots/update/"+e.id,e).then(function(e){t({type:"SET_UPDATEDITEM",payload:e.data})}).catch(function(e){t(N(e.message))})}}(t))},saveNewTransformer:function(t){return e(function(e){return function(t){t({type:"DATA_PROCESSING"});var r={};for(var a in e)"id"!==a&&(r[a]=e[a]);S.post("bots/create",r).then(function(e){t({type:"ADD_NEWITEM",payload:e.data})}).catch(function(e){t(N(e.message))})}}(t))},deleteTransformer:function(t){return e(function(e){return function(t){var r=e.id;t({type:"DATA_PROCESSING"}),S.delete("bots/delete/"+e.id).then(function(e){204===e.status?t(function(e){return{type:"SET_REMOVEITEM",payload:e}}(r)):t({type:"DATA_PROCESS_FAILED",payload:"Network Error"})}).catch(function(e){t(N(e.message))})}}(t))},battle:function(t){return e(function(e){return function(t){t({type:"SET_BATTLEPROCESSING"}),S.post("bots/detertmine-winner",e).then(function(e){t({type:"SET_BATTLERESULT",payload:e.data.presentation})}).catch(function(e){t(N(e.message))})}}(t))}}})(W);var H=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(m.a,{dark:!0,color:"primary"},n.a.createElement("div",{className:"container"},n.a.createElement(u.a,{href:"/"},"Transformers Test"))),n.a.createElement(Y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=r(15),$=function(e,t){return Object(J.a)({},e,t)},q={loading:!1,dataProcessing:!1,error:"",dataProcessingError:"",transformers:null,battleProcessing:!1,battleResult:""};function z(e,t){return null===e&&(e=[]),e.filter(function(e){return e.id!==t})}var K=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TRANSFORMERS_LOADING":return $(r,{loading:!0,dataProcessing:!1,error:"",dataProcessingError:"",transformers:null,battleProcessing:!1,battleResult:""});case"FETCH_TRANSFORMERS_FAILED":return $(r,{loading:!1,dataProcessing:!1,error:a.payload,dataProcessingError:"",transformers:null,battleProcessing:!1,battleResult:""});case"SET_TRANSFORMERS":return $(r,{loading:!1,dataProcessing:!1,error:"",dataProcessingError:"",transformers:a.payload,battleProcessing:!1,battleResult:""});case"DATA_PROCESSING":return $(r,{dataProcessing:!0,dataProcessingError:"",battleProcessing:!1,battleResult:""});case"DATA_PROCESS_FAILED":return $(r,{dataProcessing:!1,dataProcessingError:a.payload,battleProcessing:!1,battleResult:""});case"SET_UPDATEDITEM":return $(r,{dataProcessing:!1,dataProcessingError:"",transformers:(e=r.transformers,t=a.payload,null===e&&(e=[]),e.map(function(e){return e.id===t.id?t:e})),battleProcessing:!1,battleResult:""});case"SET_REMOVEITEM":return $(r,{dataProcessing:!1,dataProcessingError:"",transformers:z(r.transformers,a.payload),battleProcessing:!1,battleResult:""});case"ADD_NEWITEM":return $(r,{dataProcessing:!1,dataProcessingError:"",transformers:r.transformers.concat([a.payload]),battleProcessing:!1,battleResult:""});case"SET_BATTLEPROCESSING":return $(r,{dataProcessing:!1,dataProcessingError:"",battleProcessing:!0,battleResult:""});case"SET_BATTLERESULT":return $(r,{dataProcessing:!1,dataProcessingError:"",battleProcessing:!1,battleResult:a.payload});default:return r}},Q=c.compose,X=Object(c.combineReducers)({transformers:K}),Z=Object(c.createStore)(X,Q(Object(c.applyMiddleware)(i.a))),ee=n.a.createElement(s.Provider,{store:Z},n.a.createElement(H,null));l.a.render(ee,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[103,1,2]]]);
//# sourceMappingURL=main.c9c674ed.chunk.js.map